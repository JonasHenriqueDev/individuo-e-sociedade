[gd_scene load_steps=16 format=3 uid="uid://d1cwkm1jyuan8"]

[ext_resource type="Texture2D" uid="uid://i45syx7ccmk8" path="res://assets/images/background_lights.jpg" id="1_i8mpn"]
[ext_resource type="Script" uid="uid://sextei2xfntg" path="res://scenes/page_5.gd" id="1_ulut3"]
[ext_resource type="Texture2D" uid="uid://cmh0knkqdq5c7" path="res://assets/images/btn_avancar.png" id="2_vsa34"]
[ext_resource type="Texture2D" uid="uid://24wl5mx3sdav" path="res://assets/images/btn_voltar.png" id="3_i8mpn"]
[ext_resource type="Texture2D" uid="uid://ba0d1mu4br8kx" path="res://assets/images/on.png" id="3_o451d"]
[ext_resource type="PackedScene" uid="uid://dmeshdihjnqss" path="res://scenes/cabo_2.tscn" id="3_y3jct"]
[ext_resource type="Texture2D" uid="uid://he12nfo0vj1v" path="res://assets/images/desativar_audio.png" id="4_y3jct"]
[ext_resource type="FontFile" uid="uid://bg1l1wrq5jflu" path="res://assets/fonts/Lumanosimo-Regular.ttf" id="5_o451d"]
[ext_resource type="Texture2D" uid="uid://cqsum8oe1whio" path="res://assets/images/off.png" id="5_ulut3"]
[ext_resource type="PackedScene" uid="uid://cwwufivj01mnx" path="res://scenes/cabo_1.tscn" id="7_o451d"]
[ext_resource type="AudioStream" uid="uid://b2qblgg4afo42" path="res://assets/audio/pag5.ogg" id="11_5rtsh"]

[sub_resource type="GDScript" id="GDScript_ulut3"]
resource_name = "NextButton5"
script/source = "extends Button


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass

func _on_pressed() -> void:
	get_tree().change_scene_to_file(\"res://scenes/page6.tscn\")
"

[sub_resource type="GDScript" id="GDScript_pvl4g"]
resource_name = "PrevButton5"
script/source = "extends Button


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass

func _on_pressed() -> void:
	get_tree().change_scene_to_file(\"res://scenes/page4.tscn\")
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tv1fi"]
bg_color = Color(1, 1, 1, 1)
corner_radius_top_left = 19
corner_radius_top_right = 19
corner_radius_bottom_right = 19
corner_radius_bottom_left = 19
shadow_color = Color(0, 0, 0, 1)
shadow_size = 2

[sub_resource type="GDScript" id="GDScript_tv1fi"]
resource_name = "DisableAudioScript"
script/source = "extends Button

const MASTER_BUS_INDEX = 0

const ICON_ON_PATH = \"res://assets/images/desativar_audio.png\" 
const ICON_OFF_PATH = \"res://assets/images/ativar_audio.png\"

var icon_on: Texture2D
var icon_off: Texture2D

var narration_player: AudioStreamPlayer = null 

func _ready():
	icon_on = load(ICON_ON_PATH)
	icon_off = load(ICON_OFF_PATH)
	
	AudioServer.set_bus_mute(MASTER_BUS_INDEX, true)
	
	_atualizar_icone()
	
	narration_player = get_parent().find_child(\"NarrationPlayer\", true)
	
	if narration_player and is_instance_valid(narration_player):
		narration_player.stop()

func _on_pressed() -> void:
	var esta_mutado_antes = AudioServer.is_bus_mute(MASTER_BUS_INDEX)
	var esta_mutado_agora = not esta_mutado_antes
	
	AudioServer.set_bus_mute(MASTER_BUS_INDEX, esta_mutado_agora)
	
	_atualizar_icone()
	
	if narration_player and is_instance_valid(narration_player):
		if esta_mutado_antes == true and esta_mutado_agora == false:
			narration_player.stop()
			narration_player.play()
		
		elif esta_mutado_antes == false and esta_mutado_agora == true:
			narration_player.stop()

func _atualizar_icone():
	if AudioServer.is_bus_mute(MASTER_BUS_INDEX):
		icon = icon_off
	else:
		icon = icon_on
"

[node name="Page5" type="Control"]
layout_mode = 3
anchors_preset = 0
mouse_filter = 2
script = ExtResource("1_ulut3")
metadata/_edit_vertical_guides_ = [384.0]

[node name="Background" type="TextureRect" parent="."]
layout_mode = 0
offset_right = 769.0
offset_bottom = 1024.0
texture = ExtResource("1_i8mpn")
expand_mode = 4

[node name="Cabo1" parent="Background" instance=ExtResource("7_o451d")]
position = Vector2(-2, 30)

[node name="Cabo2" parent="Background" instance=ExtResource("3_y3jct")]
position = Vector2(486, 617)

[node name="Off" type="Sprite2D" parent="Background"]
position = Vector2(491, 583.5)
texture = ExtResource("5_ulut3")

[node name="On" type="Sprite2D" parent="Background"]
visible = false
position = Vector2(283, 583.5)
texture = ExtResource("3_o451d")

[node name="Label2" type="Label" parent="Background"]
layout_mode = 0
offset_left = 87.0
offset_top = 32.0
offset_right = 679.0
offset_bottom = 77.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 5
theme_override_font_sizes/font_size = 32
text = "CONFLITO E COOPERAÇÃO"
horizontal_alignment = 1

[node name="NextButton" type="Button" parent="."]
layout_mode = 0
offset_left = 668.0
offset_top = 936.0
offset_right = 745.0
offset_bottom = 1007.0
icon = ExtResource("2_vsa34")
flat = true
script = SubResource("GDScript_ulut3")

[node name="PrevButton" type="Button" parent="."]
layout_mode = 0
offset_left = 28.0
offset_top = 936.0
offset_right = 105.0
offset_bottom = 1007.0
icon = ExtResource("3_i8mpn")
flat = true
script = SubResource("GDScript_pvl4g")

[node name="TextBox" type="Panel" parent="."]
layout_mode = 0
offset_left = 75.0
offset_top = 85.0
offset_right = 692.0
offset_bottom = 200.0
theme_override_styles/panel = SubResource("StyleBoxFlat_tv1fi")

[node name="Content" type="Label" parent="TextBox"]
layout_mode = 0
offset_left = 6.0
offset_right = 611.0
offset_bottom = 113.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("5_o451d")
theme_override_font_sizes/font_size = 16
text = "A vida em sociedade é uma mistura de conflitos e cooperação. Os conflitos surgem quando nossos interesses individuais colidem, mas é a cooperação que nos permite superar os desafios e construir algo maior."
horizontal_alignment = 3
autowrap_mode = 2
justification_flags = 35
clip_text = true

[node name="TextBox2" type="Panel" parent="."]
layout_mode = 0
offset_left = 73.0
offset_top = 219.0
offset_right = 690.0
offset_bottom = 304.0
theme_override_styles/panel = SubResource("StyleBoxFlat_tv1fi")

[node name="Content" type="Label" parent="TextBox2"]
layout_mode = 0
offset_left = 9.0
offset_top = 3.0
offset_right = 602.0
offset_bottom = 83.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("5_o451d")
theme_override_font_sizes/font_size = 16
text = "Imagine que cada um de nós é como um cabo, e só ao nos unirmos podemos gerar energia e acender uma luz que ilumine a todos. Utilizando dois dedos, arraste os cabos e conecte-os para ligar a lâmpada."
horizontal_alignment = 3
autowrap_mode = 2
justification_flags = 35
clip_text = true

[node name="Pagination" type="Label" parent="."]
layout_mode = 0
offset_left = 724.0
offset_top = 3.0
offset_right = 764.0
offset_bottom = 26.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 2
theme_override_font_sizes/font_size = 12
text = "Pág. 5"

[node name="NarrationPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_5rtsh")

[node name="DisableAudio" type="Button" parent="."]
layout_mode = 0
offset_left = 319.0
offset_top = 970.0
offset_right = 456.0
offset_bottom = 1007.0
icon = ExtResource("4_y3jct")
flat = true
script = SubResource("GDScript_tv1fi")

[connection signal="pressed" from="NextButton" to="NextButton" method="_on_pressed"]
[connection signal="pressed" from="PrevButton" to="PrevButton" method="_on_pressed"]
[connection signal="pressed" from="DisableAudio" to="DisableAudio" method="_on_pressed"]
